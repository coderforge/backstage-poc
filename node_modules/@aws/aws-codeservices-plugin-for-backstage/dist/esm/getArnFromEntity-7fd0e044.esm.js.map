{"version":3,"file":"getArnFromEntity-7fd0e044.esm.js","sources":["../../src/utils/getArnFromEntity.ts"],"sourcesContent":["/**\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\").\n * You may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *     http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { validate, parse } from \"@aws-sdk/util-arn-parser\";\nimport { Entity } from \"@backstage/catalog-model\";\n\nexport function getArnFromEntity(\n  entity: Entity,\n  annotation: string\n): {\n  arn: string;\n  accountId: string;\n  region: string;\n  service: string;\n  resource: string;\n} {\n  const arn = entity.metadata.annotations?.[annotation] ?? \"\";\n\n  if (!validate(arn)) {\n    throw new Error(\n      `Value for annotation ${annotation} was not a valid ARN: ${arn}`\n    );\n  }\n\n  const parsedArn = parse(arn);\n\n  return { arn, ...parsedArn };\n}\n"],"names":[],"mappings":";;AACO,SAAS,gBAAgB,CAAC,MAAM,EAAE,UAAU,EAAE;AACrD,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC;AACb,EAAE,MAAM,GAAG,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC;AAC5G,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AACtB,IAAI,MAAM,IAAI,KAAK;AACnB,MAAM,CAAC,qBAAqB,EAAE,UAAU,CAAC,sBAAsB,EAAE,GAAG,CAAC,CAAC;AACtE,KAAK,CAAC;AACN,GAAG;AACH,EAAE,MAAM,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;AAC/B,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,SAAS,EAAE,CAAC;AAC/B;;;;"}